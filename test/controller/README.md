# Controller测试脚本

这个文件夹包含所有与控制器和通信协议相关的测试脚本，这些脚本直接测试底层的通信接口和协议功能。

## 文件说明

### 主要测试脚本
- **`test_rs485.py`** - RS485通信测试脚本
  - 向/dev/ttyACM0发送指定的十六进制指令并读取回复
  - 验证RS485通信功能
  - 包含详细的日志输出

- **`test_modified_protocol.py`** - 修改后的协议测试脚本
  - 测试新的RS485帧格式是否能正常控制灵巧手
  - 验证协议修改的正确性
  - 包含帧构建和解析测试

- **`test_clear_motor_error.py`** - 清除电机故障测试脚本
  - 测试清除电机故障功能
  - 验证错误处理机制

### 调试和诊断脚本
- **`protocol_debug.py`** - 协议调试脚本
  - 尝试不同的协议参数和格式
  - 调试通信问题
  - 包含原始串口通信测试

- **`test_usb_ports.py`** - USB端口测试脚本
  - 测试USB端口上的瑞眼灵巧手设备
  - 自动检测可用端口
  - 验证USB通信功能

### 运行脚本
- **`test_full_system.sh`** - 完整系统测试脚本
  - 运行所有控制器测试
  - 包含协议测试和ROS2节点测试

### 文档
- **`RS485_TEST_README.md`** - RS485测试详细说明

## 使用方法

### 前提条件
1. 确保设备已正确连接到RS485接口
2. 确保用户有访问串口设备的权限
3. 安装必要的Python依赖包

### 运行单个测试
```bash
# RS485通信测试
python3 test_rs485.py

# 修改后的协议测试
python3 test_modified_protocol.py

# USB端口测试
python3 test_usb_ports.py
```

### 运行完整测试
```bash
./test_full_system.sh
```

## 注意事项
- 这些脚本直接与硬件通信，不需要ROS2环境
- 某些测试可能需要设备权限
- 测试前请确保设备已正确连接
- 所有脚本都使用相对路径，具有良好的兼容性
